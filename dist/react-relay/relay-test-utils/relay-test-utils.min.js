/**
 * Relay v5.0.0
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
module.exports = function (e) {
  var n = {};

  function r(t) {
    if (n[t]) return n[t].exports;
    var a = n[t] = {
      i: t,
      l: !1,
      exports: {}
    };
    return e[t].call(a.exports, a, a.exports, r), a.l = !0, a.exports;
  }

  return r.m = e, r.c = n, r.d = function (e, n, t) {
    r.o(e, n) || Object.defineProperty(e, n, {
      enumerable: !0,
      get: t
    });
  }, r.r = function (e) {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
      value: "Module"
    }), Object.defineProperty(e, "__esModule", {
      value: !0
    });
  }, r.t = function (e, n) {
    if (1 & n && (e = r(e)), 8 & n) return e;
    if (4 & n && "object" == typeof e && e && e.__esModule) return e;
    var t = Object.create(null);
    if (r.r(t), Object.defineProperty(t, "default", {
      enumerable: !0,
      value: e
    }), 2 & n && "string" != typeof e) for (var a in e) r.d(t, a, function (n) {
      return e[n];
    }.bind(null, a));
    return t;
  }, r.n = function (e) {
    var n = e && e.__esModule ? function () {
      return e.default;
    } : function () {
      return e;
    };
    return r.d(n, "a", n), n;
  }, r.o = function (e, n) {
    return Object.prototype.hasOwnProperty.call(e, n);
  }, r.p = "", r(r.s = 4);
}([function (e, n) {
  e.exports = require("fbjs/lib/invariant");
}, function (e, n) {
  e.exports = require("@babel/runtime/helpers/interopRequireDefault");
}, function (e, n) {
  e.exports = require("@babel/runtime/helpers/objectSpread");
}, function (e, n) {
  e.exports = require("relay-runtime");
}, function (e, n, r) {
  "use strict";

  var t = r(5),
      a = r(8),
      o = r(10);
  e.exports = {
    MockEnvironment: a,
    MockPayloadGenerator: t,
    createMockEnvironment: a.createMockEnvironment,
    unwrapContainer: o
  };
}, function (e, n, r) {
  "use strict";

  var t = r(1),
      a = t(r(6)),
      o = t(r(2)),
      l = t(r(7)),
      u = r(0),
      i = r(3),
      c = i.TYPENAME_KEY,
      s = i.RelayConcreteNode,
      f = i.getModuleComponentKey,
      p = i.getModuleOperationKey,
      v = s.CONDITION,
      d = s.CONNECTION_FIELD,
      m = s.CLIENT_EXTENSION,
      y = s.INLINE_FRAGMENT,
      b = s.LINKED_FIELD,
      k = s.MODULE_IMPORT,
      g = s.SCALAR_FIELD,
      h = s.LINKED_HANDLE,
      _ = s.SCALAR_HANDLE,
      A = s.DEFER,
      C = s.STREAM;
  var E = {
    ID: function (e, n) {
      return "<".concat(null != e.parentType && e.parentType !== O ? e.parentType + "-" : "", "mock-id-").concat(n(), ">");
    },
    Boolean: function () {
      return !1;
    },
    Int: function () {
      return 42;
    },
    Float: function () {
      return 4.2;
    }
  },
      O = "__MockObject";

  function S(e) {
    var n,
        r = (n = 0, function () {
      return ++n;
    });
    return function () {
      for (var n = arguments.length, t = new Array(n), a = 0; a < n; a++) t[a] = arguments[a];

      return function (e, n, r, t) {
        var a = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
            o = arguments.length > 5 ? arguments[5] : void 0,
            l = function (a) {
          var o,
              l,
              u,
              i,
              c = null != r && null != n ? n[r] : null;
          return null != c && (o = c(t, e)), void 0 === o && (o = null !== (l = a) && void 0 !== l ? l : "ID" === r ? E.ID(t, e) : '<mock-value-for-field-"'.concat(null !== (u = null !== (i = t.alias) && void 0 !== i ? i : t.name) && void 0 !== u ? u : "undefined", '">')), o;
        };

        return !0 === a ? M(Array.isArray(o) ? o : Array(1).fill(), l) : l(o);
      }.apply(void 0, [r, e].concat(t));
    };
  }

  function M(e, n) {
    return e.map(function (e) {
      return n(e);
    });
  }

  var j = function () {
    function e(e) {
      var n, r;
      this._variables = e.variables, this._mockResolvers = (0, o.default)({}, E, null !== (n = e.mockResolvers) && void 0 !== n ? n : {}), this._selectionMetadata = null !== (r = e.selectionMetadata) && void 0 !== r ? r : {}, this._resolveValue = S(this._mockResolvers);
    }

    var n = e.prototype;
    return n.generate = function (e, n) {
      var r = this._getDefaultValuesForObject(n, null, null, [], {});

      return this._traverse({
        selections: e,
        typeName: n,
        isAbstractType: !1,
        name: null,
        alias: null,
        args: null
      }, [], null, r);
    }, n._traverse = function (e, n, r, t) {
      var a = e.selections,
          o = e.typeName,
          l = e.isAbstractType;
      return this._traverseSelections(a, o, l, n, r, t);
    }, n._traverseSelections = function (e, n, r, t, l, i) {
      var s,
          E = this,
          S = null !== (s = l) && void 0 !== s ? s : {};
      return e.forEach(function (e) {
        switch (e.kind) {
          case g:
            S = E._mockScalar(e, n, t, S, i);
            break;

          case d:
          case b:
            S = E._mockLink(e, t, S, i);
            break;

          case v:
            E._getVariableValue(e.condition) === e.passingValue && (S = E._traverseSelections(e.selections, n, r, t, S, i));
            break;

          case m:
          case A:
          case C:
            S = E._traverseSelections(e.selections, n, r, t, S, i);
            break;

          case y:
            var l;
            if (null != S && (null == S[c] || S[c] === O)) S[c] = null !== (l = null == i ? void 0 : i[c]) && void 0 !== l ? l : e.type;

            if (!0 === r && null != S && S[c] === n && (S[c] = e.type), null != S && S[c] === e.type) {
              var s = E._getDefaultValuesForObject(e.type, t[t.length - 1], null, t),
                  M = n !== e.type ? E._getDefaultValuesForObject(n, t[t.length - 1], null, t) : s,
                  j = s;

              if (void 0 === j && (j = M), void 0 === j && (j = i), null === j) {
                S = null;
                break;
              }

              null != (S = E._traverseSelections(e.selections, e.type, r, t, S, j))[c] && (S[c] = e.type), null != S.id && null != s && null != s.id && (S.id = s.id);
            }

            break;

          case k:
            if (null != i) {
              var x;
              if (i.__typename !== n) break;
              var N = i.__module_operation;
              "object" == typeof N && null !== N && "SplitOperation" === N.kind && Array.isArray(N.selections) && "string" == typeof N.name || u(!1);
              var D = N,
                  T = e.documentName;
              null == S && (S = {}), S = (0, o.default)({}, S, (x = {}, (0, a.default)(x, c, n), (0, a.default)(x, p(T), N.name), (0, a.default)(x, f(T), i.__module_component), x), E._traverseSelections(D.selections, n, !1, t, null, null));
            }

            break;

          case _:
          case h:
            break;

          default:
            u(!1);
        }
      }), S;
    }, n._getCorrectDefaultEnum = function (e, n, r, t) {
      if (void 0 === n) return n;
      var a = Array.isArray(n) ? n.map(function (e) {
        return String(e).toUpperCase();
      }) : [String(n).toUpperCase()],
          o = e.map(function (e) {
        return e.toUpperCase();
      });
      a.filter(function (e) {
        return o.includes(e);
      }).length !== a.length && u(!1);
      var l = a.map(function (n) {
        var r = o.indexOf(String(n).toUpperCase());
        return e[r];
      });
      return Array.isArray(n) ? l : l[0];
    }, n._mockScalar = function (e, n, r, t, a) {
      var o,
          u,
          i,
          s,
          f = null !== (o = t) && void 0 !== o ? o : {},
          p = null !== (u = e.alias) && void 0 !== u ? u : e.name;
      if (f.hasOwnProperty(p) && e.name !== c) return f;
      e.name === c && (i = null !== (s = n) && void 0 !== s ? s : O);

      var v = [].concat((0, l.default)(r), [p]),
          d = this._getScalarFieldTypeDetails(e, n, v),
          m = d.type,
          y = d.plural,
          b = d.enumValues;

      if (null != a && a.hasOwnProperty(p) && (i = a[p], null != b && (i = this._getCorrectDefaultEnum(b, i, r, p)), void 0 !== i && y && !Array.isArray(i) && (i = [i])), void 0 === i) {
        var k = null != b ? b[0] : void 0;
        i = this._resolveValue(m, {
          parentType: n,
          name: e.name,
          alias: e.alias,
          path: v,
          args: this._getFieldArgs(e)
        }, y, k);
      }

      return f[p] = i, f;
    }, n._mockLink = function (e, n, r, t) {
      var a,
          o,
          u,
          i,
          s,
          f = this,
          p = null !== (a = e.alias) && void 0 !== a ? a : e.name,
          v = null !== (o = r) && void 0 !== o ? o : {},
          d = this._getFieldArgs(e),
          m = [].concat((0, l.default)(n), [p]),
          y = null !== (u = this._selectionMetadata[m.join(".")]) && void 0 !== u ? u : {
        type: O
      };

      if (null != t && "object" == typeof t[p] && (s = t[p]), null === s) return v[p] = null, v;

      var b = null !== (i = e.concreteType) && void 0 !== i ? i : null != s && "string" == typeof s[c] ? s[c] : y.type,
          k = null === e.concreteType && b === y.type,
          g = function (r) {
        var t,
            a,
            o = null !== (t = f._getDefaultValuesForObject(null !== (a = e.concreteType) && void 0 !== a ? a : y.type, e.name, e.alias, m, d)) && void 0 !== t ? t : r;
        return null === o ? null : f._traverse({
          selections: e.selections,
          typeName: b,
          isAbstractType: k,
          name: e.name,
          alias: e.alias,
          args: d
        }, [].concat((0, l.default)(n), [p]), "object" == typeof v[p] ? v[p] : null, o);
      };

      return v[p] = "LinkedField" === e.kind && e.plural ? M(Array.isArray(s) ? s : Array(1).fill(), g) : g(s), v;
    }, n._getVariableValue = function (e) {
      return this._variables.hasOwnProperty(e) || u(!1), this._variables[e];
    }, n._getDefaultValuesForObject = function (e, n, r, t, a) {
      var o;
      if (null != e && null != this._mockResolvers[e] && (o = this._resolveValue(e, {
        parentType: null,
        name: n,
        alias: r,
        args: a,
        path: t
      }, !1)), "object" == typeof o) return o;
    }, n._getFieldArgs = function (e) {
      var n = this,
          r = {};
      return null != e.args && e.args.forEach(function (e) {
        r[e.name] = "Literal" === e.kind ? e.value : n._getVariableValue(e.variableName);
      }), r;
    }, n._getScalarFieldTypeDetails = function (e, n, r) {
      var t;
      return null !== (t = this._selectionMetadata[r.join(".")]) && void 0 !== t ? t : {
        type: "id" === e.name ? "ID" : "String",
        plural: !1,
        enumValues: null,
        nullable: !1
      };
    }, e;
  }();

  e.exports = {
    generate: function (e, n) {
      var r;
      return {
        data: function (e, n, r, t) {
          var a,
              o = new j({
            variables: n,
            mockResolvers: r,
            selectionMetadata: t
          });
          return a = e.name.endsWith("Mutation") ? "Mutation" : e.name.endsWith("Subscription") ? "Subscription" : "Query", o.generate(e.selections, a);
        }(e.request.node.operation, e.request.variables, null !== (r = n) && void 0 !== r ? r : null, function (e) {
          var n,
              r = null === (n = e.request.node.params.metadata) || void 0 === n ? void 0 : n.relayTestingSelectionTypeInfo;

          if (null != r && !Array.isArray(r) && "object" == typeof r) {
            var t = {};
            return Object.keys(r).forEach(function (e) {
              var n = r[e];
              null == n || Array.isArray(n) || "object" != typeof n || "string" != typeof n.type || "boolean" != typeof n.plural || "boolean" != typeof n.nullable || null !== n.enumValues && !Array.isArray(n.enumValues) || (t[e] = {
                type: n.type,
                plural: n.plural,
                nullable: n.nullable,
                enumValues: Array.isArray(n.enumValues) ? n.enumValues.map(String) : null
              });
            }), t;
          }

          return null;
        }(e))
      };
    }
  };
}, function (e, n) {
  e.exports = require("@babel/runtime/helpers/defineProperty");
}, function (e, n) {
  e.exports = require("@babel/runtime/helpers/toConsumableArray");
}, function (e, n, r) {
  "use strict";

  var t = r(1)(r(2)),
      a = r(9),
      o = r(0),
      l = r(3),
      u = l.RecordSource,
      i = l.Store,
      c = l.QueryResponseCache,
      s = l.Observable,
      f = l.Environment,
      p = l.Network,
      v = 10,
      d = 3e5;

  function m(e, n) {
    e[n] = jest.fn(e[n].bind(e));
  }

  function y(e, n) {
    var r = e[n].bind(e);
    e[n] = jest.fn(function () {
      for (var t = arguments.length, a = new Array(t), o = 0; o < t; o++) a[o] = arguments[o];

      var l = r.apply(void 0, a),
          u = jest.fn(function () {
        return l.dispose();
      });
      return e[n].mock.dispose = u, {
        dispose: u
      };
    });
    var t = e[n].mockClear.bind(e[n]);

    e[n].mockClear = function () {
      t(), e[n].mock.dispose = null;
    };
  }

  function b(e, n) {
    var r = e[n].bind(e);
    e[n] = jest.fn(function () {
      for (var t = arguments.length, a = new Array(t), o = 0; o < t; o++) a[o] = arguments[o];

      return r.apply(void 0, a).do({
        start: function (r) {
          e[n].mock.subscriptions.push(r);
        }
      });
    }), e[n].mock.subscriptions = [];
    var t = e[n].mockClear.bind(e[n]);

    e[n].mockClear = function () {
      t(), e[n].mock.subscriptions = [];
    };
  }

  e.exports = {
    createMockEnvironment: function (e) {
      var n,
          r,
          l,
          k = new u(),
          g = new i(k),
          h = new c({
        size: v,
        ttl: d
      }),
          _ = [],
          A = [],
          C = [],
          E = function (e, n, r) {
        var t,
            o = e.id,
            l = e.text,
            u = null !== (t = o) && void 0 !== t ? t : l,
            i = null;
        if (null != (null == r ? void 0 : r.force) && !1 !== (null == r ? void 0 : r.force) || null == u || (i = h.get(u, n)), null !== i) return s.from(i);
        var c = A.find(function (r) {
          return r.request.node.params === e && r.request.variables === n;
        });

        if (null != c && C.length > 0) {
          var f = C[0],
              p = f(c);
          if (null != p) return C = C.filter(function (e) {
            return e !== f;
          }), A = A.filter(function (e) {
            return e !== c;
          }), p instanceof Error ? s.create(function (e) {
            e.error(p);
          }) : s.from(p);
        }

        return s.create(function (t) {
          var o = {
            request: e,
            variables: n,
            cacheConfig: r,
            sink: t
          };
          return _ = _.concat([o]), function () {
            _ = _.filter(function (e) {
              return !a(e, o);
            }), A = A.filter(function (e) {
              return e !== c;
            });
          };
        });
      };

      function O(e) {
        if ("Request" === e.kind) return e;
        var n = e;
        return A.includes(n) || o(!1), n.request.node;
      }

      function S(e) {
        var n, r;
        n = "Request" === e.kind ? e : (r = e).request.node;

        var t = _.filter(function (e) {
          return !!a(e.request, n.params) && (!r || a(r.request.variables, e.variables));
        });

        return t.length || o(!1), t.forEach(function (e) {
          e.sink || o(!1);
        }), t;
      }

      function M(e) {
        return "object" == typeof e && null !== e && e.hasOwnProperty("data") || o(!1), e;
      }

      var j = function (e, n) {
        var r = "string" == typeof n ? new Error(n) : n;
        S(e).forEach(function (e) {
          var n = e.sink;
          null === n && o(!1), n.error(r);
        });
      },
          x = function (e, n) {
        S(e).forEach(function (e) {
          var r = e.sink;
          null === r && o(!1), r.next(M(n)), r.complete();
        });
      },
          N = function () {
        var e = A[A.length - 1];
        return null == e && o(!1), e;
      },
          D = new f((0, t.default)({
        configName: "RelayModernMockEnvironment",
        network: p.create(E, E),
        store: g
      }, e)),
          T = function (e, n) {
        return function () {
          for (var r = arguments.length, t = new Array(r), a = 0; a < r; a++) t[a] = arguments[a];

          var o = t[0].operation;
          return A = A.concat([o]), n.apply(e, t);
        };
      };

      D.execute = T(D, D.execute), D.executeMutation = T(D, D.executeMutation), "test" === (null === (n = global) || void 0 === n ? void 0 : null === (r = n.process) || void 0 === r ? void 0 : null === (l = r.env) || void 0 === l ? void 0 : l.NODE_ENV) && (y(D, "applyUpdate"), m(D, "commitPayload"), m(D, "getStore"), m(D, "lookup"), m(D, "check"), y(D, "subscribe"), y(D, "retain"), b(D, "execute"), b(D, "executeMutation"), m(g, "getSource"), m(g, "lookup"), m(g, "notify"), m(g, "publish"), y(g, "retain"), y(g, "subscribe"));
      var V = {
        cachePayload: function (e, n, r) {
          var t,
              a = O(e).params,
              l = a.id,
              u = a.text,
              i = null !== (t = l) && void 0 !== t ? t : u;
          null == i && o(!1), h.set(i, n, r);
        },
        clearCache: function () {
          h.clear();
        },
        isLoading: function (e, n) {
          var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          return _.some(function (t) {
            return a(t.request, O(e).params) && a(t.variables, n) && a(t.cacheConfig, r);
          });
        },
        reject: j,
        resolve: x,
        nextValue: function (e, n) {
          S(e).forEach(function (e) {
            var r = e.sink;
            null === r && o(!1), r.next(M(n));
          });
        },
        complete: function (e) {
          S(e).forEach(function (e) {
            var n = e.sink;
            null === n && o(!1), n.complete();
          });
        },
        getMostRecentOperation: N,
        resolveMostRecentOperation: function (e) {
          var n = N(),
              r = "function" == typeof e ? e(n) : e;
          return x(n, r);
        },
        rejectMostRecentOperation: function (e) {
          var n = N(),
              r = "function" == typeof e ? e(n) : e;
          return j(n, r);
        },
        findOperation: function (e) {
          var n = A.find(e);
          return null == n && o(!1), n;
        },
        getAllOperations: function () {
          return A;
        },
        queueOperationResolver: function (e) {
          C = C.concat([e]);
        }
      };
      return D.mock = V, D.mockClear = function () {
        D.applyUpdate.mockClear(), D.commitPayload.mockClear(), D.getStore.mockClear(), D.lookup.mockClear(), D.check.mockClear(), D.subscribe.mockClear(), D.retain.mockClear(), D.execute.mockClear(), D.executeMutation.mockClear(), g.getSource.mockClear(), g.lookup.mockClear(), g.notify.mockClear(), g.publish.mockClear(), g.retain.mockClear(), g.subscribe.mockClear(), h.clear(), A = [], _ = [];
      }, D;
    }
  };
}, function (e, n) {
  e.exports = require("fbjs/lib/areEqual");
}, function (e, n, r) {
  "use strict";

  var t = r(0);

  e.exports = function (e) {
    var n = e.__ComponentClass;
    return null == n && t(!1), n;
  };
}]);